"use strict";(self.webpackChunkduo_mazzola_music=self.webpackChunkduo_mazzola_music||[]).push([[414],{414:(e,a,t)=>{t.d(a,{getDati:()=>n});const o="duo_mazzola_data_cache",c="duo_mazzola_data_timestamp",r=864e5;async function n(){try{const e=localStorage.getItem(o),a=localStorage.getItem(c);if(e&&a){const t=new Date(a);if((new Date).getTime()-t.getTime()<r)return JSON.parse(e)}}catch(e){console.warn("Errore nel recupero della cache locale",e)}return async function(){const e=await fetch(process.env.REACT_APP_SHEETDB_API_URL||"");if(!e.ok)throw new Error("Errore nel recupero dati: "+e.status);const a=(await e.json()).map(e=>({TIPO:e.TIPO,TITOLO:e.TITOLO,DESCRIZIONE:e.DESCRIZIONE,URL:e.URL,DATA_INSERIMENTO:e.DATA_INSERIMENTO,CATEGORIE:e.CATEGORIE,ORDINE:e.ORDINE?Number(e.ORDINE):void 0}));try{localStorage.setItem(o,JSON.stringify(a)),localStorage.setItem(c,(new Date).toISOString())}catch(e){console.warn("Impossibile salvare i dati nella cache locale",e)}return a}()}}}]);